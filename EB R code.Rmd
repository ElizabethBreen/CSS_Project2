---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 

```{r}
library(tidyverse)
library(data.table)

setwd(dir="/Users/Vena/Desktop/CSS_Project2/")

diabetes <- read.csv("Diabetes with Population Info by County 2017.csv")

glimpse(diabetes)
diabetes$Diabetes_Number <- as.numeric(diabetes$Diabetes_Number)
diabetes$Obesity_Number <- as.numeric(diabetes$Obesity_Number)
diabetes$Physical_Inactivity_Number <- as.numeric(diabetes$Physical_Inactivity_Number)

diabetes <- diabetes %>%
  mutate(
    diab_rate = (Diabetes_Number/race_total.population),
         ob_rate = (Obesity_Number/race_total.population),
         inac_rate =(
           Physical_Inactivity_Number/race_total.population),
         Black_rate = (
           race.alone.or.in.combination.with.one.or.more.other.races_total.population_black.or.african.american/race_total.population),
         lat_rate = (
           hispanic.or.latino.and.race_total.population_hispanic.or.latino..of.any.race./race_total.population),
         pacisl_rate = (
           race_total.population_one.race_native.hawaiian.and.other.pacific.islander/race_total.population),
    samoa_rt=(
      race_total.population_one.race_native.hawaiian.and.other.pacific.islander_samoan/race_total.population))


diabetes$race_total.population_one.race_native.hawaiian.and.other.pacific.islander_samoan
plot(diabetes$ob_rate, diabetes$diab_rate)
plot(diabetes$inac_rate, diabetes$ob_rate)
plot(diabetes$inac_rate, diabetes$diab_rate)
plot(diabetes$pacisl_rate, diabetes$diab_rate)
plot(diabetes$pacisl_rate, diabetes$ob_rate)
plot(diabetes$samoa_rt, diabetes$ob_rate)

#filter outliers in pacisl
diabetes <- diabetes %>% filter(pacisl_rate < 0.05) 


cor.test(diabetes$ob_rate, diabetes$inac_rate, method = c("pearson", "kendall", "spearman")) 

# 57% correlated

cor.test(diabetes$Black_rate, diabetes$diab_rate, method = c("pearson", "kendall", "spearman"))
#36% correlated

cor.test(diabetes$lat_rate, diabetes$diab_rate, method = c("pearson", "kendall", "spearman"))
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

